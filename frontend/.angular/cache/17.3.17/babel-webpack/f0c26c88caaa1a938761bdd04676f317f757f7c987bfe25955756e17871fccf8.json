{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../services/client-api.service\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = a0 => [\"/clients\", a0, \"edit\"];\nfunction ClientDetailsPageComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nfunction ClientDetailsPageComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵtext(1, \"Loading client...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ClientDetailsPageComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"div\", 7)(3, \"div\")(4, \"h2\", 8);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 9);\n    i0.ɵɵtext(7, \"Client Ref: \");\n    i0.ɵɵelementStart(8, \"span\", 10);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(10, \"span\", 11);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"div\", 12)(13, \"div\", 13)(14, \"div\", 5)(15, \"div\", 14)(16, \"div\", 15);\n    i0.ɵɵtext(17, \"Email\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 10);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(20, \"div\", 14)(21, \"div\", 15);\n    i0.ɵɵtext(22, \"Phone\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"div\", 10);\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"div\", 14)(26, \"div\", 15);\n    i0.ɵɵtext(27, \"Advisor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 10);\n    i0.ɵɵtext(29);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(30, \"div\", 14)(31, \"div\", 15);\n    i0.ɵɵtext(32, \"Classification\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(33, \"div\", 10);\n    i0.ɵɵtext(34);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(35, \"div\", 16)(36, \"div\", 15);\n    i0.ɵɵtext(37, \"Notes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"div\");\n    i0.ɵɵtext(39);\n    i0.ɵɵelementEnd()()()()();\n    i0.ɵɵelementStart(40, \"div\", 17)(41, \"a\", 18);\n    i0.ɵɵtext(42, \"Back\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"a\", 19);\n    i0.ɵɵtext(44, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(45, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function ClientDetailsPageComponent_div_2_Template_button_click_45_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r0 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r0.remove());\n    });\n    i0.ɵɵtext(46, \"Delete\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(47, \"div\", 21)(48, \"div\", 22)(49, \"div\", 13)(50, \"h5\", 23);\n    i0.ɵɵtext(51, \"Operational Controls\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(52, \"p\", 24);\n    i0.ɵɵtext(53, \" Risk category is visually surfaced to support advisor preparation and compliance review. \");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.client.fullName);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r0.client.clientRef);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.badgeClass(ctx_r0.client.riskCategory));\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(ctx_r0.client.riskCategory);\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate(ctx_r0.client.email);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.client.phone);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.client.advisor);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.client.classification);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r0.client.notes || \"\\u2014\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(10, _c0, ctx_r0.client._id));\n  }\n}\nexport let ClientDetailsPageComponent = /*#__PURE__*/(() => {\n  class ClientDetailsPageComponent {\n    constructor(route, router, api) {\n      this.route = route;\n      this.router = router;\n      this.api = api;\n      this.client = null;\n      this.loading = false;\n      this.error = null;\n    }\n    ngOnInit() {\n      const id = this.route.snapshot.paramMap.get('id');\n      if (!id) {\n        this.error = 'Missing client id';\n        return;\n      }\n      this.loading = true;\n      this.api.get(id).subscribe({\n        next: c => {\n          this.client = c;\n          this.loading = false;\n        },\n        error: err => {\n          this.error = err?.error?.message ?? 'Client not found';\n          this.loading = false;\n        }\n      });\n    }\n    badgeClass(risk) {\n      if (risk === 'Low') return 'badge-risk-low';\n      if (risk === 'High') return 'badge-risk-high';\n      return 'badge-risk-medium';\n    }\n    remove() {\n      if (!this.client?._id) return;\n      const ok = confirm(`Delete client ${this.client.fullName}?`);\n      if (!ok) return;\n      this.api.remove(this.client._id).subscribe({\n        next: () => this.router.navigate(['/clients']),\n        error: err => {\n          this.error = err?.error?.message ?? 'Failed to delete client';\n        }\n      });\n    }\n    static {\n      this.ɵfac = function ClientDetailsPageComponent_Factory(t) {\n        return new (t || ClientDetailsPageComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ClientApiService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ClientDetailsPageComponent,\n        selectors: [[\"app-client-details-page\"]],\n        decls: 3,\n        vars: 3,\n        consts: [[\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"class\", \"alert alert-info\", 4, \"ngIf\"], [\"class\", \"row g-3\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [1, \"alert\", \"alert-info\"], [1, \"row\", \"g-3\"], [1, \"col-lg-8\"], [1, \"d-flex\", \"align-items-center\", \"justify-content-between\"], [1, \"mb-0\"], [1, \"text-muted\"], [1, \"fw-semibold\"], [1, \"badge\", 3, \"ngClass\"], [1, \"card\", \"mt-3\"], [1, \"card-body\"], [1, \"col-md-6\"], [1, \"text-muted\", \"small\"], [1, \"col-12\"], [1, \"d-flex\", \"gap-2\", \"mt-3\"], [\"routerLink\", \"/clients\", 1, \"btn\", \"btn-outline-secondary\"], [1, \"btn\", \"btn-outline-primary\", 3, \"routerLink\"], [1, \"btn\", \"btn-outline-danger\", 3, \"click\"], [1, \"col-lg-4\"], [1, \"card\"], [1, \"card-title\"], [1, \"text-muted\", \"mb-0\"]],\n        template: function ClientDetailsPageComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵtemplate(0, ClientDetailsPageComponent_div_0_Template, 2, 1, \"div\", 0)(1, ClientDetailsPageComponent_div_1_Template, 2, 0, \"div\", 1)(2, ClientDetailsPageComponent_div_2_Template, 54, 12, \"div\", 2);\n          }\n          if (rf & 2) {\n            i0.ɵɵproperty(\"ngIf\", ctx.error);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.loading);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.client);\n          }\n        },\n        dependencies: [i3.NgClass, i3.NgIf, i1.RouterLink],\n        encapsulation: 2\n      });\n    }\n  }\n  return ClientDetailsPageComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}